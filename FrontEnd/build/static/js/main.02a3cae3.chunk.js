(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,n){e.exports=n(78)},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),i=n.n(o),c=(n(41),n(4)),s=n(5),l=n(9),u=n(8),h=n(10),p=(n(42),n(16)),m=n(12),d=(n(43),n(20)),g=n.n(d),f="http://localhost:3306/dynamicl_DynamicList",v=new(function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,[{key:"retrieveAllUsers",value:function(){return g.a.get(f)}},{key:"createUser",value:function(e){return g.a.post(f+"/add",e)}}]),e}()),b=(r.a.Component,function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",error:""},n.handleChange=function(e){n.setState({username:e.target.value,error:""})},n.handleSubmit=function(e){e.preventDefault(),""===n.state.username?n.setState({error:"please enter username"}):fetch("http://localhost:3306/adduser?username=".concat(n.state.username)).then((function(e){return e.json()})).then((function(e){"success"===e.status?(n.props.history.push("/map"),console.log("success")):n.setState({error:e.message})})).catch((function(e){console.log(e),n.setState({error:"Network error"})}))},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"base"},r.a.createElement("h1",{className:"head"},"Log In"),r.a.createElement("form",{className:"form"},r.a.createElement("p",{className:"head"},"Enter username to continue"),r.a.createElement("input",{className:"input",value:this.state.username,type:"text",name:"name",onChange:this.handleChange}),""===this.state.error?null:r.a.createElement("div",{className:"error"},this.state.error),r.a.createElement("button",{className:"button",type:"submit",onClick:this.handleSubmit},"Login")))}}]),t}(r.a.Component)),k=n(17),w={position:"absolute",width:"100%",height:"100%"},j=function(e){function t(e){var n;Object(c.a)(this,t);var a=(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.initialCenter,r=a.lat,o=a.lng;return n.state={currentLocation:{lat:r,lng:o}},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n=t.coords;e.setState({currentLocation:{lat:n.latitude,lng:n.longitude}})})),this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,n=i.a.findDOMNode(t),a=this.props.zoom,r=this.state.currentLocation,o=r.lat,c=r.lng,s=new e.LatLng(o,c),l=Object.assign({},{center:s,zoom:a});this.map=new e.Map(n,l)}}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,n=this.props.google.maps;if(e){var a=new n.LatLng(t.lat,t.lng);e.panTo(a)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,(function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},w);return r.a.createElement("div",null,r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(r.a.Component),y=j;j.defaultProps={zoom:14,initialCenter:{lat:48.305862,lng:14.286444},centerAroundCurrentLocation:!1,visible:!0};var C=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},n.onMarkerClick=function(e,t,a){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.onClose=function(e){n.state.showingInfoWindow&&n.setState({showingInfoWindow:!1,activeMarker:null})},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Map & List"),r.a.createElement(y,{centerAroundCurrentLocation:!0,google:this.props.google},r.a.createElement(k.Marker,{onClick:this.onMarkerClick,name:"Current location"}),r.a.createElement(k.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name)))))}}]),t}(a.Component),O=Object(k.GoogleApiWrapper)({apiKey:"AIzaSyC2Rm-AAuZ_1tqw1yDcWcM05qGXtqN_jxo"})(C),E=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:b}),r.a.createElement(m.a,{path:"/map",exact:!0,component:O})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.02a3cae3.chunk.js.map